<!--
  ~ Copyright 2012 Agorava
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~   http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Socializer Application</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</h:head>
<h:body>
	<h:outputStylesheet name="socializer.css" library="css" />
	<p:layout fullPage="true">
		<p:layoutUnit position="north" size="65">
			<h:form id="manageConnection">
				<p:toolbar>
					<p:toolbarGroup align="left"
						style="margin-top:10px;margin-left:10px;font-size:14px;">
						<h:outputText value="Welcome To Socializer" />
						<h:outputText value="| Start by adding a service"
							style="margin-left:5px"
							rendered="#{(empty currentSession) or !(currentSession.connected)}" />
					</p:toolbarGroup>

					<p:toolbarGroup align="right">
						<h:panelGrid columns="3">
							<p:themeSwitcher style="width:150px;margin-top: 3px;" var="t"
								id="defaultSwitcher">
								<f:selectItem itemLabel="Choose Theme" itemValue="" />
								<f:selectItems value="#{availableThemes.themes}" var="theme"
									itemLabel="#{theme.name}" itemValue="#{theme}" />

								<p:column>
									<p:graphicImage value="/images/themes/#{t.image}" />
								</p:column>

								<p:column>#{t.name}</p:column>
							</p:themeSwitcher>
							<p:selectOneMenu value="#{socialClient.currentSessionName}"
								style="margin-top: 3px;"
								rendered="#{not(empty currentSession) and currentSession.connected}">
								<f:selectItems value="#{socialClient.sessions}" var="serv"
									itemValue="#{serv.name}" itemLabel="#{serv.name}" />
								<f:ajax render="@all" />
							</p:selectOneMenu>
							<p:commandButton id="basic" value="Add Service"
								icon="ui-icon-plusthick" onclick="dlg1.show();" type="button" />
						</h:panelGrid>
					</p:toolbarGroup>
				</p:toolbar>
			</h:form>
		</p:layoutUnit>
		<p:layoutUnit id="center" position="center">
			<ui:insert name="content" />
		</p:layoutUnit>
	</p:layout>

	<p:dialog id="basicDialog" header="Choose Social Network"
		widgetVar="dlg1">
		<h:panelGrid columns="3">
			<ui:repeat var="service"
				value="#{socialClient.manager.listOfServices}">
				<h:outputLink value="#"
					onclick="window.open('startoauth.jsf?service=#{service}','oauth','toolbar=0,location=0,directories=0,status=0,menubar=0,scrollbars=0,resizable=0,width=280,height=400,modal=yes')">

					<h:graphicImage library="gfx" name="#{service}.png" height="48"
						width="48" style="margin:5px;" />
				</h:outputLink>
			</ui:repeat>
		</h:panelGrid>
	</p:dialog>

</h:body>
</html>
